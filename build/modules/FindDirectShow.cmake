# - Find DirectShow, windows only
#
#  DIRECTSHOW_INCLUDE_DIR -  where to find streams.h.
#  DIRECTSHOW_LIBRARIES    - List of libraries when using DirectShow.
#  DIRECTSHOW_FOUND        - True if DirectShow is found.


# Look for the header file.
# TODO: find a more generic way for this. Right now it only works for Visual Studio 7, since it is the only one withou
# Express version.
#FIND_PATH( DIRECTSHOW_INCLUDE_DIRS NAMES streams.h ddraw.h )
#MARK_AS_ADVANCED(DIRECTSHOW_INCLUDE_DIRS)

#FIND_LIBRARY( DIRECTSHOW_LIBRARY NAMES strmbase )
#MARK_AS_ADVANCED(DIRECTSHOW_LIBRARY)

# Copy the results to the output variables.
#IF(DIRECTSHOW_INCLUDE_DIRS AND DIRECTSHOW_LIBRARY)
#  SET(DIRECTSHOW_FOUND 1)
#  SET(DIRECTSHOW_LIBRARIES ${DIRECTSHOW_LIBRARY})
#  SET(DIRECTSHOW_INCLUDE_DIR ${DIRECTSHOW_INCLUDE_DIRS})
#ELSE(DIRECTSHOW_INCLUDE_DIRS AND DIRECTSHOW_LIBRARY)
#  SET(DIRECTSHOW_FOUND 0)
#  SET(DIRECTSHOW_LIBRARIES)
#  SET(DIRECTSHOW_INCLUDE_DIR)
#ENDIF(DIRECTSHOW_INCLUDE_DIRS AND DIRECTSHOW_LIBRARY)


IF( MSVC70 OR MSVC71 )
SET( DIRECTSHOW_FOUND 1 CACHE BOOL "If true the HAVE_DSHOW is set. Only set for vc7." )
ELSEIF( MSVC70 OR MSVC71 )
SET( DIRECTSHOW_FOUND 0 CACHE BOOL "If true the HAVE_DSHOW is set. Only set for vc7." )
ENDIF( MSVC70 OR MSVC71 )

# Report the results.
IF(NOT DIRECTSHOW_FOUND)
  SET(DIRECTSHOW_DIR_MESSAGE
    "Directshow was not found. It only works for Visual Studio 7 at the moment.")
  IF(NOT DIRECTSHOW_FIND_QUIETLY)
    MESSAGE(STATUS "${DIRECTSHOW_DIR_MESSAGE}")
  ELSE(NOT DIRECTSHOW_FIND_QUIETLY)
    IF(DIRECTSHOW_FIND_REQUIRED)
      MESSAGE(FATAL_ERROR "${DIRECTSHOW_DIR_MESSAGE}")
    ENDIF(DIRECTSHOW_FIND_REQUIRED)
  ENDIF(NOT DIRECTSHOW_FIND_QUIETLY)
ENDIF(NOT DIRECTSHOW_FOUND)
